import{B as o,Ka as c,f as s,k as d,o as n,ta as a,v as i,wa as l}from"./chunk-Z574TJKL.js";var U=(()=>{let r=class r{constructor(){this.http=n(l),this.messageService=n(c),this.heroesUrl="api/heroes",this.httpOptions={headers:new a({"Content-Type":"application/json"})}}getHeroes(){return this.http.get(this.heroesUrl).pipe(o(()=>this.log("fetched heroes")),i(this.handleError("getHeroes",[])))}getHero(e){let t=`${this.heroesUrl}/${e}`;return this.http.get(t).pipe(o(()=>this.log(`fetched hero id=${e}`)),i(this.handleError(`getHero id=${e}`)))}updateHero(e){return this.http.put(this.heroesUrl,e,this.httpOptions).pipe(o(()=>this.log(`updated hero id=${e.id}`)),i(this.handleError("updateHero")))}addHero(e){return this.http.post(this.heroesUrl,e,this.httpOptions).pipe(o(t=>this.log(`added hero w/ id=${t.id}`)),i(this.handleError("addHero")))}deleteHero(e){let t=typeof e=="number"?e:e.id,p=`${this.heroesUrl}/${t}`;return this.http.delete(p,this.httpOptions).pipe(o(()=>this.log(`deleted hero id=${t}`)),i(this.handleError("deleteHero")))}searchHeroes(e){return e.trim()?this.http.get(`${this.heroesUrl}/?name=${e}`).pipe(o(()=>this.log(`found heroes matching "${e}"`)),i(this.handleError("searchHeroes",[]))):s([])}log(e){this.messageService.add(`HeroService: ${e}`)}handleError(e="operation",t){return p=>(this.log(`${e} failed: ${p.message}`),t!==void 0?s(t):s())}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"});let h=r;return h})();export{U as a};
