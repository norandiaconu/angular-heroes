import{Ga as l,f as s,j as r,p as i,pa as d,r as n,sa as a,v as p}from"./chunk-53E45YNF.js";var E=(()=>{class o{constructor(){this.http=p(a),this.messageService=p(l),this.heroesUrl="api/heroes",this.httpOptions={headers:new d({"Content-Type":"application/json"})}}getHeroes(){return this.http.get(this.heroesUrl).pipe(i(()=>this.log("fetched heroes")),r(this.handleError("getHeroes",[])))}getHero(e){let t=`${this.heroesUrl}/${e}`;return this.http.get(t).pipe(i(()=>this.log(`fetched hero id=${e}`)),r(this.handleError(`getHero id=${e}`)))}updateHero(e){return this.http.put(this.heroesUrl,e,this.httpOptions).pipe(i(()=>this.log(`updated hero id=${e.id}`)),r(this.handleError("updateHero")))}addHero(e){return this.http.post(this.heroesUrl,e,this.httpOptions).pipe(i(t=>this.log(`added hero w/ id=${t.id}`)),r(this.handleError("addHero")))}deleteHero(e){let t=typeof e=="number"?e:e.id,h=`${this.heroesUrl}/${t}`;return this.http.delete(h,this.httpOptions).pipe(i(()=>this.log(`deleted hero id=${t}`)),r(this.handleError("deleteHero")))}searchHeroes(e){return e.trim()?this.http.get(`${this.heroesUrl}/?name=${e}`).pipe(i(()=>this.log(`found heroes matching "${e}"`)),r(this.handleError("searchHeroes",[]))):s([])}log(e){this.messageService.add(`HeroService: ${e}`)}handleError(e="operation",t){return h=>(this.log(`${e} failed: ${h.message}`),t!==void 0?s(t):s())}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{E as a};
