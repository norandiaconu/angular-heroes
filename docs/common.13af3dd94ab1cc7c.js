"use strict";(self.webpackChunkangular_tour_of_heroes=self.webpackChunkangular_tour_of_heroes||[]).push([[76],{5941:(_,p,r)=>{r.d(p,{w:()=>u});var i=r(4438),n=r(4421),l=r(3852),d=r(1562),s=r(5539),o=r(3921);let u=(()=>{class h{constructor(){this.http=(0,i.WQX)(d.Qq),this.messageService=(0,i.WQX)(l.b),this.heroesUrl="api/heroes",this.httpOptions={headers:new d.Lr({"Content-Type":"application/json"})}}getHeroes(){return this.http.get(this.heroesUrl).pipe((0,s.M)(()=>this.log("fetched heroes")),(0,o.W)(this.handleError("getHeroes",[])))}getHero(e){return this.http.get(`${this.heroesUrl}/${e}`).pipe((0,s.M)(()=>this.log(`fetched hero id=${e}`)),(0,o.W)(this.handleError(`getHero id=${e}`)))}updateHero(e){return this.http.put(this.heroesUrl,e,this.httpOptions).pipe((0,s.M)(()=>this.log(`updated hero id=${e.id}`)),(0,o.W)(this.handleError("updateHero")))}addHero(e){return this.http.post(this.heroesUrl,e,this.httpOptions).pipe((0,s.M)(t=>this.log(`added hero w/ id=${t.id}`)),(0,o.W)(this.handleError("addHero")))}deleteHero(e){const t="number"==typeof e?e:e.id;return this.http.delete(`${this.heroesUrl}/${t}`,this.httpOptions).pipe((0,s.M)(()=>this.log(`deleted hero id=${t}`)),(0,o.W)(this.handleError("deleteHero")))}searchHeroes(e){return e.trim()?this.http.get(`${this.heroesUrl}/?name=${e}`).pipe((0,s.M)(()=>this.log(`found heroes matching "${e}"`)),(0,o.W)(this.handleError("searchHeroes",[]))):(0,n.of)([])}log(e){this.messageService.add(`HeroService: ${e}`)}handleError(e="operation",t){return a=>(this.log(`${e} failed: ${a.message}`),void 0!==t?(0,n.of)(t):(0,n.of)())}static{this.\u0275fac=function(t){return new(t||h)}}static{this.\u0275prov=i.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()}}]);