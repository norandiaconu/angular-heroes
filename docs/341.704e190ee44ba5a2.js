"use strict";(self.webpackChunkangular_tour_of_heroes=self.webpackChunkangular_tour_of_heroes||[]).push([[341],{8341:(I,a,c)=>{c.r(a),c.d(a,{DashboardComponent:()=>V});var s=c(4438),l=c(5941),u=c(2549),f=c(5254),d=c(762),g=c(4337);class m extends g.y{constructor(t,e){super()}schedule(t,e=0){return this}}let p=(()=>{class i{constructor(e,n=i.now){this.SchedulerAction=e,this.now=n}schedule(e,n=0,r){return new this.SchedulerAction(this,e).schedule(r,n)}}return i.now=()=>Date.now(),i})();class o extends p{constructor(t,e=p.now){super(t,()=>o.delegate&&o.delegate!==this?o.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return o.delegate&&o.delegate!==this?o.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const x=new o(class b extends m{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(h){n=!0,r=!!h&&h||new Error(h)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}});class C{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new v(t,this.dueTime,this.scheduler))}}class v extends d.v{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function S(i){i.debouncedNext()}class M{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new O(t,this.compare,this.keySelector))}}class O extends d.v{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:r}=this;n=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var k=c(9090),P=c(177);function T(i,t){if(1&i&&(s.j41(0,"li")(1,"a",5),s.EFF(2),s.k0s()()),2&i){const e=t.$implicit;s.R7$(),s.Mz_("routerLink","/detail/",e.id,""),s.R7$(),s.JRh(e.name)}}let D=(()=>{class i{constructor(){this.heroService=(0,s.WQX)(l.w),this.searchTerms=new f.B7,this.searchWait=300,this.heroes$=this.searchTerms.pipe(function y(i,t=x){return e=>e.lift(new C(i,t))}(this.searchWait),function w(i,t){return e=>e.lift(new M(i,t))}(),(0,k.n)(e=>this.heroService.searchHeroes(e)))}search(e){this.searchTerms.next(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["app-hero-search"]],standalone:!0,features:[s.aNF],decls:10,vars:2,consts:[["searchBox",""],["id","search-component"],["for","search-box"],["id","search-box",3,"input"],[1,"search-result"],[3,"routerLink"]],template:function(n,r){if(1&n){const h=s.RV6();s.j41(0,"div",1)(1,"h4")(2,"label",2),s.EFF(3,"Hero Search"),s.k0s()(),s.j41(4,"input",3,0),s.bIt("input",function(){s.eBV(h);const j=s.sdS(5);return s.Njj(r.search(j.value))}),s.k0s(),s.j41(6,"ul",4),s.Z7z(7,T,3,3,"li",null,s.fX1),s.nI1(9,"async"),s.k0s()()}2&n&&(s.R7$(7),s.Dyx(s.bMT(9,0,r.heroes$)))},dependencies:[u.Wk,P.Jj],styles:["input[_ngcontent-%COMP%]{height:2em;font-size:1em;padding-left:.4em}"]})}}return i})();function F(i,t){if(1&i&&(s.j41(0,"a",1)(1,"div",2)(2,"h4"),s.EFF(3),s.k0s()()()),2&i){const e=t.$implicit;s.Mz_("routerLink","/detail/",e.id,""),s.R7$(3),s.JRh(e.name)}}let V=(()=>{class i{constructor(){this.heroes=[],this.heroService=(0,s.WQX)(l.w)}ngOnInit(){this.getHeroes()}getHeroes(){this.heroService.getHeroes().subscribe(e=>this.heroes=e.slice(1,5))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[s.aNF],decls:6,vars:0,consts:[[1,"grid","grid-pad"],[1,"col-1-4",3,"routerLink"],[1,"module","hero"]],template:function(n,r){1&n&&(s.j41(0,"h3"),s.EFF(1,"Top Heroes"),s.k0s(),s.j41(2,"div",0),s.Z7z(3,F,4,3,"a",1,s.fX1),s.k0s(),s.nrm(5,"app-hero-search")),2&n&&(s.R7$(3),s.Dyx(r.heroes))},dependencies:[u.Wk,D],styles:["[class*=col-][_ngcontent-%COMP%]{float:left;padding-right:20px;padding-bottom:20px}[class*=col-][_ngcontent-%COMP%]:last-of-type{padding-right:0}a[_ngcontent-%COMP%]{text-decoration:none}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{box-sizing:border-box}h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}h4[_ngcontent-%COMP%]{position:relative}.grid[_ngcontent-%COMP%]{margin:0}.col-1-4[_ngcontent-%COMP%]{width:25%}.module[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#eee;max-height:120px;min-width:120px;background-color:#3f525c;border-radius:2px}.module[_ngcontent-%COMP%]:hover{background-color:#eee;cursor:pointer;color:#607d8b}.grid-pad[_ngcontent-%COMP%]{padding:10px 0}.grid-pad[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]:last-of-type{padding-right:20px}@media (max-width: 600px){.module[_ngcontent-%COMP%]{font-size:10px;max-height:75px}}@media (max-width: 1024px){.grid[_ngcontent-%COMP%]{margin:0}.module[_ngcontent-%COMP%]{min-width:60px}}"]})}}return i})()}}]);